---
import Date from "@/components/Date.astro";

interface Props {
  postDate: string | Date | number;
  href: string;
  title: string;
  image?: string;
  summary?: string;
  author: string;
  leading?: boolean;
}

import { Image } from "astro:assets";

const { postDate, href, title, image, summary, author, leading } =
  Astro.props;

const textSize = (leading: Props["leading"]) => {
  if (leading) {
    return {
      titleText:
        "text-2xl lg:text-4xl text-center font-serif mt-2 mb-2 lg:mt-2 font-normal",
    };
  }
  return {
    titleText: "text-xl text-center font-serif mt-2 mb-2 lg:mt-2 font-normal",
  };
};
---

<div class="max-w-[72ch] mx-auto">
  {
    image ? (
      <div class="mb-4">
        <a href={href}>
          <Image
            src={image}
            alt={`picture of ${title}`}
            widths={[1024, 480]}
            inferSize={true}
            class="w-full aspect-[16/10] object-cover rounded"
          />
        </a>
      </div>
    ) : (
      ""
    )
  }
  <Date
    time={postDate}
    className={"mb-1 uppercase font-semibold text-muted-foreground text-xs text-center"}
  />
  <h2 class={textSize(leading).titleText}>
    <a href={href} class="hover:underline">{title}</a>
  </h2>

  {
    author ? (
    <div class="text-center capitalize font-semibold text-sm text-muted-foreground mb-2">
      Oleh : {author}
    </div>
    ): ''
  }
  
  {
    leading ? (
      <p class="line-clamp-3 lg:text-lg lg:text-center">{summary}</p>
    ) : (
      ""
    )
  }
</div>
